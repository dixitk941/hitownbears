<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header with Navigation</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="modal.css">
</head>
<body>

<header class="header">
    <div class="header__left">   
        <div class="logo">
            <a href="./index.html">
                <img src="pics/logo.png">
            </a>
        </div>
    </div>
    <div class="header__center">
        <nav class="header__nav">
            <ul>
                <li><a href="shirt.html">Shirts</a></li>
                <li><a href="t-shirt.html">T-Shirts</a></li>
                <li><a href="lower.html">Lower</a></li>
            </ul>
        </nav>
    </div>
    <div class="header__right">
        <nav class="header__nav-icons">
            <ul>
                <li><a href="#"><i class="bi bi-search"></i></a></li>
                <li><a href="account.html"><i class="bi bi-person"></i></a></li>
                <li class="dropdown">
                    <a href="cart.html" class="cart-icon dropdown-toggle" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-cart"></i></a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <!-- Cart items will be dynamically populated here -->
                    </div>
                </li>
            </ul>
        </nav>
    </div>
</header>

<div class="product-bar">
    <div class="product-count">Showing 1-12 of 158 products</div>
    <div class="product-options">
        <span>Show</span>
        <select name="show-per-page">
            <option value="12">12</option>
            <option value="24">24</option>
            <option value="All">All</option>
        </select>
        <span>Sort by</span>
        <select name="sort-by">
            <option value="default">Default</option>
            <option value="fresh">Fresh</option>
            <!-- Add more sorting options here -->
        </select>
    </div>
</div>

<!-- Product grid -->
<div class="w3-row-padding">
    <!-- Product 1 -->
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/skybluecheckfront.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Afteredit/Skybluecheckback.png', 'Afteredit/Skybluecheckside.png', 'Afteredit/Skybluecheckfront1.png'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
     <!-- Product 2 -->
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/blc1.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Frontview/blc1.png', 'Frontview/blc2.png', 'Frontview/blc3.png'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/skybluecheckfront.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Frontview/skybluecheckfront.png', 'AdditionalImage1.jpg', 'AdditionalImage2.jpg'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/skybluecheckfront.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Frontview/skybluecheckfront.png', 'AdditionalImage1.jpg', 'AdditionalImage2.jpg'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/skybluecheckfront.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Frontview/skybluecheckfront.png', 'AdditionalImage1.jpg', 'AdditionalImage2.jpg'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="w3-col l3 s6">
        <div class="w3-container">
            <div class="product">
                <img src="Frontview/skybluecheckfront.png" alt="Ripped Skinny Shirt" style="width:100%">
                <div class="product-info">
                    <h4>Ripped Skinny Shirt</h4>
                    <p class="price">  799</p>
                    <div class="product-overlay">
                        <button class="w3-button w3-black w3-round" onclick="addToCart()">Add to cart <i class="fa fa-shopping-cart"></i></button>
                        <button class="w3-button w3-black w3-round" onclick="viewImage('Ripped Skinny Shirt', ['Frontview/skybluecheckfront.png', 'AdditionalImage1.jpg', 'AdditionalImage2.jpg'])">View image <i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Add more product items here -->
</div>

<div class="modal" id="imageModal">
    <div class="modal-content">
        <div class="image-container">
            <img id="modalImage" class="carousel-image" src="" alt="Product Image">
            <div class="thumbnails"></div>
        </div>
        <div class="product-info">
            <h4>Product Name</h4>
            <div class="price">799.99</div>
            <button>Add to Cart</button>
        </div>
        <div class="product-description">
            <h3>Product Description</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed auctor, magna a laoreet auctor, ipsum velit venenatis nisl, vel aliquet velit nisi eu nisi. Sed accumsan, felis vel congue elementum, nunc lacus venenatis nibh, vel aliquet velit nisi eu nisi.</p>
        </div>
        <span class="close" onclick="closeModal()">&times;</span>
    </div>
</div>

<div class="modal">
    <div class="modal-content">
        <div class="image-container">
            <img class="carousel-image" src="image.jpg" alt="Product Image">
            <div class="thumbnails">
                <img class="thumbnail" src="thumbnail1.jpg" alt="Thumbnail 1">
                <img class="thumbnail" src="thumbnail2.jpg" alt="Thumbnail 2">
                <img class="thumbnail" src="thumbnail3.jpg" alt="Thumbnail 3">
            </div>
        </div>
        <div class="product-info">
            <h4>Product Name</h4>
            <div class="price"> 199.99</div>
            <button>Add to Cart</button>
        </div>
        <div class="product-description">
            <h3>Product Description</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed auctor, magna a laoreet auctor, ipsum velit venenatis nisl, vel aliquet velit nisi eu nisi. Sed accumsan, felis vel congue elementum, nunc lacus venenatis nibh, vel aliquet velit nisi eu nisi.</p>
        </div>
        <span class="close" onclick="closeModal()">&times;</span>
    </div>
</div>
<section class="shipping-info">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="info-item">
                    <i class="bi bi-truck"></i>
                    <h4>FREE SHIPPING & RETURN</h4>
                    <p>Free Shipping over <div class="price">999</div></p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info-item">
                    <i class="price"></i>
                    <h4>MONEY BACK GUARANTEE</h4>
                    <p>30 Days Money Back Guarantee</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info-item">
                    <i class="bi bi-telephone"></i>
                    <h4>24/7 AVAILABLE SUPPORT</h4>
                    <p>9528202892</p>
                </div>
            </div>
        </div>
    </div>
</section>
<hr class="divider">

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <!-- SELL section -->
        </div>
        <div class="col-md-4">
            <!-- Navigation bar -->
        </div>
        <div class="col-md-4">
            <!-- DAILY OFFERS & DISCOUNTS section -->
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p>© 2024 dixitk941. All rights reserved.</p>
            </div>
            <div class="col-md-6">
                <ul class="list-inline text-md-end">
                    <li class="list-inline-item"><i class="bi bi-credit-card"></i></li>
                    <li class="list-inline-item"><i class="bi bi-google"></i></li>
                    <li class="list-inline-item"><i class="bi bi-wallet2"></i></li>
                    <!-- Add more icons as needed -->
                </ul>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="server.js"></script>

<script>
    function addToCart() {
        // Add to cart functionality
        alert("Item added to cart!");
    }

    function viewImage(productName, imageSrcs) {
    var modal = document.getElementById("imageModal");
    var modalImage = modal.querySelector("#modalImage");
    modalImage.src = imageSrcs[0]; // Display the first image by default
    modal.style.display = "block";

    // Display thumbnails for additional images
    var thumbnailsContainer = modal.querySelector(".thumbnails");
    thumbnailsContainer.innerHTML = ""; // Clear existing thumbnails
    imageSrcs.forEach(function(imageSrc, index) {
        var thumbnail = document.createElement("img");
        thumbnail.src = imageSrc;
        thumbnail.alt = productName + " Image " + (index + 1);
        thumbnail.classList.add("thumbnail");
        thumbnail.addEventListener("click", function() {
            modalImage.src = imageSrc;
            updateThumbnailActiveState(thumbnail);
        });
        thumbnailsContainer.appendChild(thumbnail);
    });
}

function updateThumbnailActiveState(clickedThumbnail) {
    var thumbnails = document.querySelectorAll(".thumbnails img");
    thumbnails.forEach(function(thumbnail) {
        if (thumbnail === clickedThumbnail) {
            thumbnail.classList.add("active");
        } else {
            thumbnail.classList.remove("active");
        }
    });
}

function changeImage(n) {
    var images = document.querySelectorAll(".thumbnails img");
    var activeIndex = -1;
    images.forEach(function(image, index) {
        if (image.classList.contains("active")) {
            activeIndex = index;
        }
    });
    var newIndex = (activeIndex + n + images.length) % images.length;
    images[newIndex].click(); // Simulate click on the new active thumbnail
}

function closeModal() {
    var modal = document.getElementById("imageModal");
    modal.style.display = "none";
}

// Add an event listener to each product image to open the modal with the corresponding images
document.querySelectorAll('.product img').forEach(function(productImage) {
    productImage.addEventListener('click', function() {
        var productName = this.alt; // Get the product name
        var imageContainer = this.parentElement.querySelector('.additional-images');
        var imageSrcs = Array.from(imageContainer.querySelectorAll('img')).map(function(img) {
            return img.src; // Get the URLs of all additional images
        });
        viewImage(productName, imageSrcs); // Call viewImage function with product name and image URLs
    });
});

// JavaScript for Modal Image Navigation with Keyboard Input

// Function to handle keyboard events
function handleKeyboardInput(event) {
    const modal = document.getElementById('imageModal');
    const modalContent = modal.querySelector('.modal-content');
    const activeImage = modalContent.querySelector('.active');
    const thumbnails = modalContent.querySelectorAll('.thumbnail');
    let newIndex;

    // Check if modal is open and key pressed is arrow left or right
    if (modal.style.display === 'block' && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {
        // Find the index of the active image among thumbnails
        for (let i = 0; i < thumbnails.length; i++) {
            if (thumbnails[i].querySelector('img').src === activeImage.src) {
                newIndex = event.key === 'ArrowLeft' ? (i === 0 ? thumbnails.length - 1 : i - 1) : (i === thumbnails.length - 1 ? 0 : i + 1);
                break;
            }
        }

        // Set the new active image
        setActiveImage(thumbnails[newIndex]);
    }
}

// Function to set active image
function setActiveImage(thumbnail) {
    const modal = document.getElementById('imageModal');
    const modalContent = modal.querySelector('.modal-content');
    const activeImage = modalContent.querySelector('.active');
    const newImage = thumbnail.querySelector('img');

    // Remove active class from current active image
    activeImage.classList.remove('active');
    
    // Add active class to new image
    newImage.classList.add('active');
    modalContent.querySelector('#modalImage').src = newImage.src;
}

// Event listener for keyboard input
document.addEventListener('keydown', handleKeyboardInput);

</script>

</body>
</html>
